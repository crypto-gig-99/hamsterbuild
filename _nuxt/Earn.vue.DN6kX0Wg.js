import{d as P,i as N,u as F,c as G,$ as Z,o as T,l as oe,aa as y,e as s,t as $,b as e,k as i,a4 as z,a8 as V,U as w,p as k,_ as U,R as X,y as ne,H as ae,a as S,K as re,m as D,r as Y,q as j,s as q,z as K,B as Q,C as J,ab as W,v as ce,N as ie,ac as le,Q as ue,ar as _e,F as pe,D as de,M as me}from"./entry.FoPbLsSY.js";import{_ as fe}from"./image.vue.kkg_s-zC.js";import{a as ve,_ as he}from"./Price.vue.BIy693gu.js";import{_ as ge}from"./Hamster.vue.BR5goSN8.js";const be={class:"user-level-info"},$e={class:"user-level-info-right"},Te={class:"user-level-info-left"},ke={class:"text-grey"},Le={class:"user-level-progress is-small"},Se=P({__name:"Level",setup(E){const l=N(),u=F(),p=G(()=>Object.keys(Z)[Object.values(Z).indexOf(l.level??1)]),h=()=>{k().useHapticFeedback("soft"),u.trackEvent("click_header_league")};return(n,c)=>{const _=U,a=X;return T(),oe(a,{class:"user-level",to:e(w).GAME_LEAGUE,onClick:h},{default:y(()=>[s("div",be,[s("div",$e,[s("p",null,$(e(p)),1),i(_,{class:"is-10",name:"caret-right"})]),s("div",Te,[s("p",null,[z($(e(l).level),1),s("span",ke,"Â / "+$(e(l).getMaxUserLevel),1)])])]),s("div",Le,[s("div",{class:"user-level-progress-bar",style:V({width:`${e(l).getProgressLevel}%`})},null,4)])]),_:1},8,["to"])}}}),Ee=""+globalThis.__publicAssetsURL("images/rocket.png"),Me={class:"bs-content"},He=s("div",{class:"bs-content-image is-boost"},[s("img",{src:Ee})],-1),xe=["innerHTML"],we=["innerHTML"],Ce={class:"boost-profit-target"},ye=["innerHTML"],Pe=["innerHTML"],Ne=P({__name:"BoostProfit",setup(E){const{$event:l}=D();N();const u=F(),p=ne(),h=ae();function n(){l("bs:close"),re(h(w.GAME_MINE))}return(c,_)=>{const a=ve;return T(),S("div",Me,[He,s("div",{class:"bs-content-title has-top-gap",innerHTML:c.$t("boost.profit_title")},null,8,xe),s("div",{class:"bs-content-description",innerHTML:c.$t("boost.profit_description")},null,8,we),s("div",Ce,[s("span",{innerHTML:c.$t("boost.profit_text",{h:e(u).secondsToHours(e(p).maxPassiveDtSeconds)})},null,8,ye)]),s("button",{class:"bottom-sheet-button button button-primary button-large",onClick:n},[s("span",{innerHTML:c.$t("boost.profit_button")},null,8,Pe),i(a,{class:"is-28"})])])}}}),Oe={class:"header-info"},Be={class:"header-info-passive"},Ie=["innerHTML"],Ae={class:"header-info-passive-data"},Ge=P({__name:"HeaderInfo",setup(E){const l=F(),u=N(),p=Y(!1),{$event:h,$listen:n,$stopListen:c}=D(),_=()=>{k().useHapticFeedback("soft"),l.trackEvent("click_header_settings")},a=()=>{k().useHapticFeedback("soft"),l.trackEvent("click_header_exchange")};function M(){k().useHapticFeedback("soft"),h("bs:open",{component:ce(Ne)})}const O=H=>({content:H,triggers:["click"],delay:0,distance:4,theme:"hk-tooltip",placement:"bottom",container:".header-info",html:!0}),m=()=>{p.value=!0},r=()=>{p.value=!1};return j(()=>{n("balance-animate-passive:start",m),n("balance-animate-passive:stop",r)}),q(()=>{c("balance-animate-passive:start",m),c("balance-animate-passive:stop",r)}),(H,R)=>{const B=fe,g=X,I=he,x=U,C=K("tooltip");return T(),S("div",Oe,[i(g,{class:"header-info-exchange",to:e(w).GAME_SETTINGS_EXCHANGE,onClick:a},{default:y(()=>{var f;return[i(B,{class:"is-border-6",name:(f=e(u).currentExchange)==null?void 0:f.id},null,8,["name"])]}),_:1},8,["to"]),Q(s("div",Be,[s("p",{innerHTML:H.$t("user.profit")},null,8,Ie),s("div",Ae,[i(I,{price:e(u).earnPassivePerHour??0,prefix:e(u).earnPassivePerHour?"+":"",class:J({"pulse-balance":e(p)}),size:"small"},null,8,["price","prefix","class"]),i(x,{class:"icon-info",name:"info",onClick:W(M,["stop"])})])],512),[[C,O(e(l).numberFormat(e(u).earnPassivePerHour,!1))]]),i(g,{class:"header-info-settings",to:e(w).GAME_SETTINGS,onClick:_},{default:y(()=>[i(x,{name:"settings"})]),_:1},8,["to"])])}}}),Ye={class:"header-row"},Fe={class:"header-progress"};function Ue(E,l){const u=Se,p=Ge;return T(),S("div",Ye,[s("div",Fe,[i(u)]),i(p)])}const Xe={},tt=ie(Xe,[["render",Ue]]),De={class:"user-tap"},Re=["disabled"],Ze={class:"user-tap-button-circle"},ze={class:"user-tap-animate"},Ve=["id","initial","enter"],je={class:"user-tap-row"},qe={class:"user-tap-energy"},Ke=["src","alt"],st=P({__name:"Earn",props:{isFrom:{type:String,default:"index"}},setup(E){const{$event:l,$listen:u,$stopListen:p}=D(),h=E,n=N(),c=k(),_=le();ue();const a=Y(null),M=Y([]);function O(t){n.availableTaps>=n.earnPerTap&&!n.stop&&(te(),k().useHapticFeedback(),n.earn(),R(t),H(t))}const m={scale:1,translateZ:0,rotateX:0,rotateY:0},r=_e({...m});function H(t){if(a.value){const o=a.value.getBoundingClientRect(),d=o.left+o.width/2,L=o.top+o.height/2,b=t.clientX-d,A=(L-t.clientY)*.1,v=b*.1;r.translateZ=-5,r.rotateX=A,r.rotateY=v,setTimeout(()=>{r.rotateY=m.rotateY,r.rotateX=m.rotateX,r.scale=m.scale,r.translateZ=m.translateZ},150)}}function R(t){let o=0,d=0,L=0;if(a.value){const b=a.value.getBoundingClientRect();o=t.clientX-b.left-50+I(),d=t.clientY-b.bottom-25,L=b.width/2-25}B(o,d,L)}const B=(t=0,o=0,d=0)=>{M.value.push({x:t,y:o,center:d,date:Date.now()}),setTimeout(()=>{M.value.shift()},2e3)};function g(t){t==null||t.preventDefault()}function I(){const o=Math.random()*20-10;return Math.round(o)}const x=()=>{(window.pageYOffset||document.documentElement.scrollTop)<=0&&window.scrollTo(0,c.scroll_gap)};q(()=>{var t,o;(t=a.value)==null||t.removeEventListener("touchmove",g),(o=a.value)==null||o.removeEventListener("touchstart",g),document.removeEventListener("scroll",x),p("morse-mode:start",C),f.value&&(_.setStatus(!1),_.resetMorse())}),j(()=>{var o,d;const t=window.pageYOffset||document.documentElement.scrollTop;(!t||t&&t<c.scroll_gap)&&setTimeout(()=>{window.scrollTo(0,c.scroll_gap)},10),(o=a.value)==null||o.addEventListener("touchmove",g,{passive:!1}),(d=a.value)==null||d.addEventListener("touchstart",g,{passive:!1}),document.addEventListener("scroll",x),u("morse-mode:start",()=>C()),window.scrollTo(0,c.scroll_gap)});const C=()=>{_.resetMorse()},f=G(()=>_.status&&h.isFrom==="index");function ee(){f.value&&_.tapStart()}function te(){f.value&&_.tapEnd()}const se=G(()=>f.value?_.last_input:`+${n.earnPerTap}`);return(t,o)=>{const d=ge,L=U,b=X,A=K("motion");return T(),S("div",De,[s("button",{class:J(["user-tap-button button",{"is-morse-mode":e(f)}]),onPointerup:W(O,["prevent"]),onPointerdown:ee,disabled:e(n).availableTaps<e(n).earnPerTap||e(n).stop,ref_key:"eventTarget",ref:a},[s("div",{class:"user-tap-button-inner",style:V({transform:`scale(${e(r).scale}) translateZ(${e(r).translateZ}px) rotateX(${e(r).rotateX}deg) rotateY(${e(r).rotateY}deg)`})},[s("div",Ze,[i(d,{level:e(n).getUserLevel},null,8,["level"])])],4)],42,Re),s("div",ze,[(T(!0),S(pe,null,de(e(M),v=>Q((T(),S("div",{id:v.date,key:v.date,initial:{y:v.y,x:v.x,opacity:1},enter:{y:v.y-140,opacity:0,transition:{type:"spring",stiffness:"30"}}},[z($(e(se)),1)],8,Ve)),[[A]])),128))]),s("div",je,[s("div",qe,[i(L,{name:"energy"}),s("p",null,$(e(n).availableTaps)+" / "+$(e(n).maxTaps),1)]),i(b,{class:"user-tap-boost",to:e(w).GAME_BOOST,onClick:o[0]||(o[0]=v=>("useUiStore"in t?t.useUiStore:e(k))().useHapticFeedback("soft"))},{default:y(()=>[s("img",{src:"IMAGE_BOOST"in t?t.IMAGE_BOOST:e(me),alt:t.$t("buttons.boost")},null,8,Ke),s("p",null,$(t.$t("buttons.boost")),1)]),_:1},8,["to"])])])}}});export{st as _,tt as a};
