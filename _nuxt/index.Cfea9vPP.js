import{d as H,o as d,a as g,C as B,r as D,a3 as L,e,b as n,l as F,p as _,u,m as b,v as y,j as I,i as R,Q as V,c as S,as as P,k as r,aa as C,t as $,w as X,_ as j,R as q,U as E}from"./entry.FoPbLsSY.js";import{_ as z}from"./Preloader.BkUpjdeB.js";const Q=H({__name:"Toggle",props:{value:{type:Boolean,required:!0}},setup(v){return(o,c)=>(d(),g("div",{class:B(["toggle-switch",{checked:v.value}])},null,2))}}),W={class:"modal-content"},x=["innerHTML"],J=["innerHTML"],K={class:"modal-buttons"},O=["disabled"],Y=["innerHTML"],Z=["innerHTML"],ee=H({__name:"DeleteAccount",setup(v){const o=D(!1),{$event:c}=b(),p=L(),i=async()=>{o.value||(o.value=!0,await p.postDeleteMe().then(()=>{_().useHapticFeedback("heavy"),u().trackEvent("delete_account_success"),p.logout(!1),c("bs:close"),c("modal:close"),setTimeout(()=>{var s,m;(m=(s=window==null?void 0:window.Telegram)==null?void 0:s.WebApp)==null||m.close()},400)}).catch(s=>{u().showErrorPush(),u().trackEvent("delete_account_error")}).finally(()=>{o.value=!1}))},a=()=>{u().trackEvent("delete_account_cancel_step2"),c("modal:close"),c("bs:close")};return(s,m)=>{const T=z;return d(),g("div",W,[e("div",{class:"modal-title",innerHTML:s.$t("settings.delete_account_step2_title")},null,8,x),e("div",{class:"modal-description",innerHTML:s.$t("settings.delete_account_step2_description")},null,8,J),e("div",K,[e("button",{class:"button is-danger",disabled:n(o),onClick:i},[n(o)?(d(),F(T,{key:0})):(d(),g("span",{key:1,innerHTML:s.$t("settings.delete_account")},null,8,Y))],8,O),e("button",{class:"button",innerHTML:s.$t("buttons.cancel"),onClick:a},null,8,Z)])])}}}),te={class:"bs-content"},ne=["innerHTML"],se=["innerHTML"],oe={class:"bs-content-buttons"},ce=["innerHTML"],ie=["innerHTML"],ae=H({__name:"DeleteAccount",setup(v){const{$event:o}=b();L();const c=async()=>{u().trackEvent("delete_account_click_yes"),o("modal:open",{component:y(ee)})},p=()=>{u().trackEvent("delete_account_cancel"),o("bs:close")};return(i,a)=>(d(),g("div",te,[e("div",{class:"bs-content-title-medium has-top-gap",innerHTML:i.$t("settings.delete_account_title")},null,8,ne),e("div",{class:"bs-content-description full-width",innerHTML:i.$t("settings.delete_account_description")},null,8,se),e("div",oe,[e("button",{class:"button button-default button-danger",onClick:c},[e("span",{innerHTML:i.$t("settings.delete_account")},null,8,ce)]),e("button",{class:"button button-default button-dark",innerHTML:i.$t("buttons.cancel"),onClick:p},null,8,ie)])]))}}),le={class:"main"},re={class:"inner settings"},ue=["innerHTML"],_e={class:"settings-item-content"},de=["innerHTML"],pe={class:"settings-item-action"},me={class:"settings-item-content"},ge=["innerHTML"],he={class:"settings-item-action"},ve={class:"settings-item-content"},ke=["innerHTML"],He={class:"settings-item-action"},Te=["innerHTML"],$e=["innerHTML"],Le={key:0,class:"settings-info"},be=["title"],Me=e("p",null,"Token:  ",-1),Ce=H({__name:"index",setup(v){const{$event:o}=b(),{locale:c,locales:p}=I(),i=R(),a=V(),s=L(),m=u(),T=_(),A=S(()=>{var t;return((t=p.value.find(l=>l.code===c.value))==null?void 0:t.name)??""}),w=()=>{a.updateSettings({haptic:!a.settings.haptic}),_().useHapticFeedback()},N=()=>{_().useHapticFeedback(),a.updateSettings({coins_animation:!a.settings.coins_animation})};S(()=>{var t;return(t=i.exchangeRefLinks[P.BINGX])==null?void 0:t.exchangeRefLink});const G=t=>{T.copyText(t??"Hamster 🐹")},U=()=>{_().useHapticFeedback("heavy"),u().trackEvent("delete_account_click"),o("bs:open",{component:y(ae)})};return(t,l)=>{const k=j,M=q,f=Q;return d(),g("main",le,[e("div",re,[e("div",{class:"settings-title",innerHTML:t.$t("settings.title")},null,8,ue),r(M,{class:"settings-item",to:n(E).GAME_SETTINGS_LANGUAGE,onClick:l[0]||(l[0]=h=>("useUiStore"in t?t.useUiStore:n(_))().useHapticFeedback("soft"))},{default:C(()=>[e("div",_e,[e("p",{innerHTML:t.$t("settings.select_language")},null,8,de),e("span",null,$(n(A)),1)]),e("div",pe,[r(k,{class:"is-24",name:"caret-right"})])]),_:1},8,["to"]),r(M,{class:"settings-item",to:n(E).GAME_SETTINGS_EXCHANGE,onClick:l[1]||(l[1]=h=>("useUiStore"in t?t.useUiStore:n(_))().useHapticFeedback("soft"))},{default:C(()=>{var h;return[e("div",me,[e("p",{innerHTML:t.$t("settings.select_exchange")},null,8,ge),e("span",null,$(((h=n(i).currentExchange)==null?void 0:h.name)??"unknown"),1)]),e("div",he,[r(k,{class:"is-24",name:"caret-right"})])]}),_:1},8,["to"]),e("div",{class:"settings-item",onClick:U},[e("div",ve,[e("p",{innerHTML:t.$t("settings.delete_account")},null,8,ke)]),e("div",He,[r(k,{class:"is-24",name:"caret-right"})])]),e("div",{class:"settings-toggle",onClick:w},[e("p",{innerHTML:t.$t("settings.haptic")},null,8,Te),r(f,{value:n(a).settings.haptic},null,8,["value"])]),e("div",{class:"settings-toggle",onClick:N},[e("p",{innerHTML:t.$t("settings.coins_animation")},null,8,$e),r(f,{value:n(a).settings.coins_animation},null,8,["value"])]),n(m).isDevelopment()?(d(),g("div",Le,[e("div",{class:"connect-ton-wallet-info",onClick:l[2]||(l[2]=h=>G(n(s).token)),title:n(s).token},[Me,e("span",null,$(n(m).shrinkString(n(s).token,12)),1),r(k,{class:"is-copy-icon",name:"copy"})],8,be)])):X("",!0)])])}}});export{Ce as default};
